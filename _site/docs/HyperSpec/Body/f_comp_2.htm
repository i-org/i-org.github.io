<!DOCTYPE html>
<HTML>
<HEAD><meta http-equiv="content-type" content="text/html; charset=utf-8">
<TITLE>CLHS: Function COMPLEX</TITLE>
<LINK HREF="../Data/style.css" REL="stylesheet" TYPE="text/css" />
<META HTTP-EQUIV="Author" CONTENT="Kent M. Pitman">
<META HTTP-EQUIV="Organization" CONTENT="LispWorks Ltd.">
<LINK REL=TOP HREF="../Front/index.htm">
<LINK REL=COPYRIGHT HREF="../Front/Help.htm#Legal">
<LINK REL=DISCLAIMER HREF="../Front/Help.htm#Disclaimer">
<LINK REL=PREV HREF="f_cis.htm">
<LINK REL=UP HREF="c_number.htm">
<LINK REL=NEXT HREF="f_comp_3.htm">
</HEAD>
<BODY>
<h1><A REL=TOP HREF="../Front/index.htm">《通链参考手册》</A> <A REL=PREV HREF="f_cis.htm">◀</A><A REL=UP HREF="c_number.htm">▲</A><A REL=NEXT HREF="f_comp_3.htm">▶</A></H1>

<HR>

<A NAME="complex"><I>Function</I> <B>COMPLEX</B></A> <P>
<p><b>●语法设定:</b><p>
 <P>

<B>complex</B> <I>realpart <b>&amp;optional</b> imagpart</I> =&gt; <I>complex</I><P>
 <P>
<p><b>●参数和值:</b><P>
 <P>
<I>realpart</I>---a <A REL=DEFINITION HREF="t_real.htm#real"><I>real</I></A>. <P>
<I>imagpart</I>---a <A REL=DEFINITION HREF="t_real.htm#real"><I>real</I></A>. <P>
<I>complex</I>---a <A REL=DEFINITION HREF="26_glo_r.htm#rational"><I>rational</I></A> or a <A REL=DEFINITION HREF="26_glo_c.htm#complex"><I>complex</I></A>. <P>
<p><b>●详情:</b><P>
 <P>
<A REL=DEFINITION HREF="#complex"><B>complex</B></A> returns a <A REL=DEFINITION HREF="26_glo_n.htm#number"><I>number</I></A> whose real part is <I>realpart</I> and whose imaginary part is <I>imagpart</I>. <P>
If <I>realpart</I> is a <A REL=DEFINITION HREF="26_glo_r.htm#rational"><I>rational</I></A> and <I>imagpart</I> is the <A REL=DEFINITION HREF="26_glo_r.htm#rational"><I>rational</I></A> number zero, the result of <A REL=DEFINITION HREF="#complex"><B>complex</B></A> is <I>realpart</I>, a <A REL=DEFINITION HREF="26_glo_r.htm#rational"><I>rational</I></A>. Otherwise, the result is a <A REL=DEFINITION HREF="26_glo_c.htm#complex"><I>complex</I></A>. <P>
If either <I>realpart</I> or <I>imagpart</I> is a <A REL=DEFINITION HREF="26_glo_f.htm#float"><I>float</I></A>, the non-<A REL=DEFINITION HREF="26_glo_f.htm#float"><I>float</I></A> is converted to a <A REL=DEFINITION HREF="26_glo_f.htm#float"><I>float</I></A> before the <A REL=DEFINITION HREF="26_glo_c.htm#complex"><I>complex</I></A> is created. If <I>imagpart</I> is not supplied, the imaginary part is a zero of the same <A REL=DEFINITION HREF="26_glo_t.htm#type"><I>type</I></A> as <I>realpart</I>; i.e., <b>(coerce 0 (type-of </b><I>realpart</I><b>))</b> is effectively used. <P>
 <P>
Type upgrading implies a movement upwards in the type hierarchy lattice. In the case of <A REL=DEFINITION HREF="26_glo_c.htm#complex"><I>complexes</I></A>, the <I>type-specifier</I>  must be a subtype of <b>(upgraded-complex-part-type </b><I>type-specifier</I><b>)</b>. If <I>type-specifier1</I> is a subtype of <I>type-specifier2</I>, then <b>(upgraded-complex-element-type '</b><I>type-specifier1</I><b>)</b> must also be a subtype of <b>(upgraded-complex-element-type '</b><I>type-specifier2</I><b>)</b>. Two disjoint types can be upgraded into the same thing. <P>
 <P>
<p><b>●例子:</b><P>
 
<PRE>
 (complex 0) =&gt;  0
 (complex 0.0) =&gt;  #C(0.0 0.0)
 (complex 1 1/2) =&gt;  #C(1 1/2)
 (complex 1 .99) =&gt;  #C(1.0 0.99)
 (complex 3/2 0.0) =&gt;  #C(1.5 0.0)
</PRE>
</b> <P>
<p><b>●副作用:</b> None.
 <P>
<p><b>●受制于：</b> 无。</p>
 <P>
<p><b>●例外情况：</b> 无。</p>
 <P>
<p><b>●更多信息:</b><P>
 <P>
<A REL=DEFINITION HREF="f_realpa.htm#realpart"><B>realpart</B></A>, <A REL=DEFINITION HREF="f_realpa.htm#imagpart"><B>imagpart</B></A>, <h2><A REL=CHILD HREF="02_dhk.htm">Section 2.4.8.11 (Sharpsign C)</A> <P>
<p><b>●说明：</b> 无。</p>
 <P>
<p><hr> <a rel=meta href="../Issues/I_Categ.htm">X3J13设计清单</A><i>非标准部分</i>，可查下面章节：<p><UL><LI> <A REL=CHILD HREF="../Issues/iss015.htm">ARRAY-TYPE-ELEMENT-TYPE-SEMANTICS:UNIFY-UPGRADING</A><P></UL><HR>

<a href="../Front/index.htm"> ◇首页 </A> § <a href="../Front/Contents.htm"> ◎章节目录 </a> § <a href="../Front/X_Master.htm"> □内容索引 </a> § <a  href="../Front/X_Symbol.htm"> ○符号索引 </a> § <a href="../Body/26_a.htm"> △术语表 </a> § <a href="../Issues/I_Categ.htm"> ※设计草案 </a><hr>

<div class="footer"><a rel=copyright href="../Front/Help.htm#Legal"><i>2012 此修改版放弃所有版权</i></a></div>
</BODY>
</HTML>
